<!DOCTYPE html>
<html lang="en">
 <head> 
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
 <meta name="author" content="Lab X yushengc">
 <meta name="copyright" content="yushengc 2017 all rights Reserved."> 
 <link rel="shortcut icon" href="../images/favi-icon.png" > 
 <!-- jQuery --> 
 <script type="text/javascript" src="../library/jquery/jquery-1.9.0.min.js"></script> 
 <!-- jQuery UI--> 
<link type="text/css" rel="stylesheet" href="../library/jquery-ui/css/ui-lightness/jquery-ui-1.10.0.custom.css"> 
 <script type="text/javascript" src="../library/jquery-ui/js/jquery-ui-1.10.0.custom.min.js"></script> 
 <!-- Bootstrap --> 
 <link type="text/css" rel="stylesheet" href="../library/bootstrap/css/bootstrap.min.css"> 
 <script type="text/javascript" src="../library/bootstrap/js/bootstrap.min.js"></script> 
 <!-- prettify --> 
<link type="text/css" rel="stylesheet" href="../library/prettify/prettify.css"> 
 <script type="text/javascript" src="../library/prettify/prettify.js"></script> 
 <!-- Font --> 
<link type="text/css" rel="stylesheet" href="../css/font-face.css"> 
 <link href='http://fonts.googleapis.com/css?family=Londrina+Shadow' rel='stylesheet' type='text/css'>
 <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'> 
 <!-- Font Awsome--> 
 <link type="text/css" rel="stylesheet" href="../css/font-awesome.css"> 
 <!-- Site Universal Style --> 
 <link type="text/css" rel="stylesheet" href="../css/lab_site.css"> 
 <script type="text/javascript"> 
 $(document).ready(function(){
 prettyPrint(); 
 });
 </script> 
 <meta name="description" content="25sprout Lab Website, we share some useful or interesting tools here.">
<meta name="keywords" content="CSS, HTML, Lab, Tools, jQuery" /> 
 <meta name="URL" content="http://www.25sprout.com/25lab/">
 <meta name="image" content="http://lab.25sprout.com/images/share-image.jpg" /> 
 <meta name="og:image" content="http://lab.25sprout.com/images/share-image.jpg"> 
 <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0"> 
 <meta name="apple-mobile-web-app-capable" content="yes"> 
 <title>Yu-Sheng X Blog</title>
 <link type="text/css" rel="stylesheet" href="../css/style.css"> 
<link type="text/css" rel="stylesheet" href="../css/style_responsive.css"> 
 <script type="text/javascript" src="../js/lab-main.js"></script> 
 </head> 
<body> 
 <header> 
 <a id="title" href="http://yushengc.twbbs.org:9090\blog\"><img src="../images/logo.png"></a> 
 <div class="links"> 
 <a href="http://yushengc.twbbs.org:9090\blog\" class="links-1"></a> 
 </div> 
 </header> 
 <div class="container"> 
 <div class="clear-both"></div> 
 <div class='content-wrapper'> 
<h2>ç¯„ä¾‹ä¸€ : å°‡ last ç•¶ä¸­, æœ‰å‡ºç¾ root é‚£ä¸€è¡Œå–å‡ºä¾†</h2>

<pre><code>last | grep 'root'


root pts/1 192.168.0.154 Mon Oct 4 11:03 still logged in
root pts/1 192.168.0.154 Mon Oct 4 10:40 - 10:57 (00:17)
root pts/1 192.168.0.103 Sun Oct 3 21:21 - 22:36 (01:15)
root pts/1 192.168.0.154 Sun Oct 3 12:35 - 13:07 (00:31)
...(ä»¥ä¸‹çœç•¥)...</code></pre>

<h2>ç¯„ä¾‹äºŒ : è·Ÿç¯„ä¾‹ä¸€ç›¸å, åªè¦æ²’æœ‰ 'root' å­—ä¸² å°±å–å‡º</h2>

<pre><code>last | grep -v 'root'

john pts/2 :0.0 Thu Sep 9 10:27 still logged in
john tty7 :0 Thu Sep 9 10:28 still logged in
reboot system boot 2.6.31.12-0.2-de Thu Sep 9 10:27 (25+00:36)
...(ä»¥ä¸‹çœç•¥)...</code></pre>

<h3>æœ‰ç”¨å¼•è™Ÿçš„å·®åˆ¥</h3>

<p>å¦‚æœæ²’æœ‰ç”¨å¼•è™Ÿï¼Œå‰‡* å­—å…ƒä¹Ÿç•¶æˆæ˜¯å­—ä¸²çš„ä¸€éƒ¨ä»½</p>

<h2>ç¯„ä¾‹ä¸‰ : åœ¨ last è¼¸å‡ºè¨Šæ¯ä¸­, åªè¦æœ‰ 'root' å°±å–å‡º, ä¸¦ä¸”åªå–ç¬¬ä¸€æ¬„</h2>

<pre><code>last | grep 'root' | cut -d ' ' -f1</code></pre>

<h2>ç¯„ä¾‹å›› : å–å‡º /etc/passwd å…§å®¹å« 'ma' çš„é‚£å¹¾è¡Œ</h2>

<pre><code>grep --color=auto 'ma' /etc/passwd

dnsmasq:x:102:65534:dnsmasq:/var/lib/empty:/bin/false
mail:x:8:12:Mailer daemon:/var/spool/clientmqueue:/bin/false
man:x:13:62:Manual pages viewer:/var/cache/man:/bin/bash
max:x:1001:100::/home/max:/bin/bash</code></pre>

<h3>å°‡çµæœè¼¸å‡ºåˆ°æŒ‡å®šçš„file</h3>

<p>å°‡index.cpp ä¸­æœ‰'include'å­—çœ¼çš„è¡Œè¼¸å‡ºåˆ°include.hæª”æ¡ˆ</p>

<pre><code>grep 'include' index.cpp &gt; include.h</code></pre>

<p>ç´¯åŠ åˆ°æª”æ¡ˆçš„æœ€å¾Œé¢</p>

<pre><code>grep 'include' index.cpp &gt;&gt; include.h</code></pre>

<h3>è¨ˆç®—æœ‰å¹¾è¡Œ</h3>

<pre><code>grep "include" index.cpp | wc -l</code></pre>

<h3>åœ¨è³‡æ–™å¤¾ä¸­ï¼Œæ‰¾å‡ºå…§æ–‡ä¸­æœ‰åŒ…å«æŒ‡å®šå­—çš„æª”æ¡ˆ</h3>

<pre><code>grep -nr 'AutoHeight' </code></pre>

<h3>åœ¨è³‡æ–™å¤¾ä¸­ï¼Œæ‰¾å‡ºæª”åä¸­æœ‰åŒ…å«æŒ‡å®šå­—çš„æª”æ¡ˆ</h3>

<pre><code>find . | grep 'AutoHeight' </code></pre>

<h3>æŠŠæŒ‡å®šæª”æ¡ˆä¸­çš„ï¼‘ï¼åˆ°ï¼‘ï¼’è¡Œprintå‡ºä¾†</h3>

<pre><code>awk 'FNR&gt;=10 &amp;&amp; FNR&lt;20' float_analyze.c</code></pre>

<h2>é€²éšç¯„ä¾‹ :</h2>

<h2>ç¯„ä¾‹ä¸€ : ç”¨ dmesg åˆ—å°å‡ºæ ¸å¿ƒè¨Šæ¯, å†ä»¥ grep æ‰¾å‡ºå…§å« eth é‚£è¡Œ</h2>

<pre><code>linux-tl0r:~ # dmesg | grep 'eth'
[ 10.292367] eth0: registered as PCnet/PCI II 79C970A
[ 11.070040] eth0 renamed to eth1 by udevd [353]
[ 11.076056] udev: renamed network interface eth0 to eth1
[ 36.600080] eth1: link up
...(ä»¥ä¸‹çœç•¥)...</code></pre>

<h2>ç¯„ä¾‹äºŒ : æ‰¿ä¸Šé¡Œ, è¦å°‡æŠ“åˆ°çš„é—œéµå­—é¡¯è‰², ä¸”åŠ ä¸Šè¡Œè™Ÿä¾†è¡¨ç¤º</h2>

<pre><code>linux-tl0r:~ # dmesg | grep -n --color=auto 'eth'

1040:[ 10.292367] eth0: registered as PCnet/PCI II 79C970A
1050:[ 11.070040] eth0 renamed to eth1 by udevd [353]
...(ä»¥ä¸‹çœç•¥)...</code></pre>

<h2>ç¯„ä¾‹ä¸‰ : æ‰¿ä¸Šé¡Œ, åœ¨é—œéµå­—æ‰€åœ¨è¡Œçš„å‰å…©è¡Œèˆ‡å¾Œä¸‰è¡Œä¹Ÿä¸€èµ·æŠ“å‡ºä¾†é¡¯ç¤º</h2>

<pre><code>linux-tl0r:~ # dmesg | grep -n -A3 -B2 --color=auto 'eth'

1038-[ 10.275502] pcnet32 0000:02:01.0: PCI INT A -&gt; GSI 19 (level, low) -&gt; IRQ 19
1039-[ 10.276265] pcnet32: PCnet/PCI II 79C970A at 0x2000, 00:0c:29:d2:d2:84 assigned IRQ 19.
1040:[ 10.292367] eth0: registered as PCnet/PCI II 79C970A
1041-[ 10.292745] pcnet32: 1 cards_found.
1042-[ 10.296216] agpgart-intel 0000:00:00.0: Intel 440BX Chipset
1043-[ 10.302317] agpgart-intel 0000:00:00.0: AGP aperture is 256M @ 0x0
--</code></pre> </div> 
 </div> 
 </body> 
 </html> 
